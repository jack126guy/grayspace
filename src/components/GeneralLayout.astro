---
import BaseLayout from './BaseLayout.astro';
import SiteId from './SiteId.astro';
import { type SiteInfo } from '../site-info';

interface Props {
	title: string;
	siteInfo: SiteInfo;
}

const {
	title,
	siteInfo: { lang, siteName, siteLogo, favicon, homeLink },
} = Astro.props;
const autoHomeLink = homeLink || import.meta.env.BASE_URL;
---

<BaseLayout
	lang={lang}
	favicon={favicon || siteLogo}
	title={`${title} | ${siteName}`}
>
	<Fragment slot="head">
		<slot name="head" />
	</Fragment>
	<Fragment slot="header">
		<div class="general-header">
			<SiteId name={siteName} logo={siteLogo} homeLink={autoHomeLink} />
			<slot name="header" />
		</div>
	</Fragment>
	<slot />
	<Fragment slot="footer">
		<slot name="footer" />
	</Fragment>
</BaseLayout>

<style>
	.general-header {
		border-bottom: thin solid;
	}
</style>

---
import BasePage from '../components/BasePage.astro';
import GeneralHeader from '../components/GeneralHeader.astro';
import { type GeneralLayoutProps, getTitle } from '../layout-props';
import siteInfo from 'virtual:grayspace/site-info';
import { i18n } from '../i18n';
import 'virtual:grayspace/site-styles';

interface Props extends GeneralLayoutProps {}

const currentLocale = Astro.currentLocale;
const title = getTitle(Astro.props);
const { siteName, siteLogo, favicon, homeLink } = siteInfo;
const skipToMainText = i18n(currentLocale).__('Skip to main content');
---

<BasePage
	lang={currentLocale}
	favicon={favicon}
	title={`${title} | ${siteName}`}
	skipToMainText={skipToMainText}
>
	<slot slot="head" name="head" />
	<GeneralHeader
		slot="header"
		siteName={siteName}
		siteLogo={siteLogo}
		homeLink={homeLink}
	>
		<slot name="header" />
	</GeneralHeader>
	<slot />
	<slot slot="footer" name="footer" />
</BasePage>

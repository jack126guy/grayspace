---
import LayoutBase from './LayoutBase.astro';
import GeneralHeader from '../components/GeneralHeader.astro';
import {
	type GeneralLayoutProps,
	resolveGeneralLayoutOptions,
} from '../layout-props';
import siteInfo from 'virtual:grayspace/site-info';

interface Props extends GeneralLayoutProps {}

const { title } = resolveGeneralLayoutOptions(Astro.props);
const { titleSeparator, siteName, siteLogo, homeLink } = siteInfo;
const pageTitle = title ? `${title}${titleSeparator}${siteName}` : siteName;
---

<LayoutBase title={pageTitle}>
	<slot slot="head" name="head" />
	<GeneralHeader
		slot="header"
		siteName={siteName}
		siteLogo={siteLogo}
		homeLink={homeLink}
	>
		<slot name="header" />
	</GeneralHeader>
	<slot />
	<slot slot="footer" name="footer" />
</LayoutBase>
